<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="AI Jiang"><meta name="copyright" content="AI Jiang"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>自动化Appium | Hexo</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/imgaes/avatar.jpg"><link rel="mask-icon" href="/imgaes/avatar.jpg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"AI.Jiang的笔记","version":"1.5.1","mode":"auto","copycode":true,"page":{"isPost":true},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml"><meta name="description" content="资料来源:白月黑羽  自动化原理 我们先来看一下Appium自动化的原理图  这图是不是很眼熟？ 对啦，和Selenium 原理图很像。因为 Appium自动化架构就是借鉴的Selenium。 大家看看这幅图， 包含了 3个主体部分 ： 自动化程序、Appium Server、移动设备   自动化程序 自动化程序是由我们来开发的，实现具体的 手机自动化 功能。 要发出具体的指令控制手机，也需要使">
<meta property="og:type" content="article">
<meta property="og:title" content="自动化Appium">
<meta property="og:url" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="资料来源:白月黑羽  自动化原理 我们先来看一下Appium自动化的原理图  这图是不是很眼熟？ 对啦，和Selenium 原理图很像。因为 Appium自动化架构就是借鉴的Selenium。 大家看看这幅图， 包含了 3个主体部分 ： 自动化程序、Appium Server、移动设备   自动化程序 自动化程序是由我们来开发的，实现具体的 手机自动化 功能。 要发出具体的指令控制手机，也需要使">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/20200223122125834-1619184060925.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219090428434.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219085011607-1619184064022.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219093658444-1619184067743.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219094751285-1619184069621.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219094827348-1619184071192.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219095917915-1619184072626.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100127983-1619184074530.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100607217-1619184078097.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100928807-1619184079946.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101133297-1619184083861.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101526227-1619184085199.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101622563-1619184087679.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219102249001-1619184089195.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219102513030-1619184090508.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219122743944-1619184091721.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/%25RX%25%25@13JVTK%5B%5BMU%7DLKAYA-1619184093058.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219130050450-1619184095029.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219130334301-1619184099025.png">
<meta property="og:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219144509145-1619184101658.png">
<meta property="article:published_time" content="2021-03-30T02:58:10.000Z">
<meta property="article:modified_time" content="2021-04-23T13:21:45.138Z">
<meta property="article:author" content="AI Jiang">
<meta property="article:tag" content="爬虫">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/20200223122125834-1619184060925.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="AI Jiang"><img width="96" loading="lazy" src="/Yun.png" alt="AI Jiang"></a><div class="site-author-name"><a href="/about/">AI Jiang</a></div><a class="site-name" href="/about/site.html">Hexo</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=epvxdq1sknJe9JMj6J1LsBw4a6cI_2ln&amp;jump_from=webapi" title="QQ 群 389401003" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/JiangZhijianZhejaing" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%96%99%E6%9D%A5%E6%BA%90%E7%99%BD%E6%9C%88%E9%BB%91%E7%BE%BD"><span class="toc-number">1.</span> <span class="toc-text"> 资料来源:白月黑羽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text"> 自动化原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">3.</span> <span class="toc-text"> 自动化环境搭建</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F"><span class="toc-number"></span> <span class="toc-text"> 二.第一个程序</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E8%BF%90%E8%A1%8C%E8%A6%81appium%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text"> 打开运行要Appium运行程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E8%81%94%E6%9C%BA%E5%90%8E%E6%9F%A5%E7%9C%8B%E6%9D%83%E9%99%90"><span class="toc-number">1.1.</span> <span class="toc-text"> 1.联机后查看权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%90%AF%E5%8A%A8appium"><span class="toc-number">2.</span> <span class="toc-text"> 2.启动Appium</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE-%E5%BA%94%E7%94%A8-package-%E5%92%8C-activity"><span class="toc-number"></span> <span class="toc-text"> 查找 应用 Package 和 Activity</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89apk"><span class="toc-number">0.1.</span> <span class="toc-text"> 没有apk</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89apk"><span class="toc-number">0.2.</span> <span class="toc-text"> 有apk</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0"><span class="toc-number"></span> <span class="toc-text"> 三.定位元素</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E5%88%99"><span class="toc-number">1.</span> <span class="toc-text"> 代码规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E5%85%83%E7%B4%A0%E6%9F%A5%E7%9C%8B%E5%B7%A5%E5%85%B7"><span class="toc-number">2.</span> <span class="toc-text"> 界面元素查看工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#uiautomateviewer"><span class="toc-number">2.1.</span> <span class="toc-text"> uiautomateviewer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#appium-inspector"><span class="toc-number">2.2.</span> <span class="toc-text"> Appium Inspector</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">3.</span> <span class="toc-text"> 定位元素的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEid"><span class="toc-number">3.1.</span> <span class="toc-text"> 根据ID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEclass-name"><span class="toc-number">3.2.</span> <span class="toc-text"> 根据CLASS NAME</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEaccessibility-id"><span class="toc-number">3.3.</span> <span class="toc-text"> 根据ACCESSIBILITY ID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xpath"><span class="toc-number">3.4.</span> <span class="toc-text"> Xpath</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%8D%93-uiautomator"><span class="toc-number">3.5.</span> <span class="toc-text"> 安卓 UIAutomator</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E7%95%8C%E9%9D%A2%E6%93%8D%E4%BD%9C-%E5%92%8C-adb-%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text"> 四.界面操作 和 adb 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text"> 界面操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#click%E7%82%B9%E5%87%BB"><span class="toc-number">1.1.</span> <span class="toc-text"> click点击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tap%E7%82%B9%E6%8C%89"><span class="toc-number">1.2.</span> <span class="toc-text"> tap点按</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5"><span class="toc-number">1.3.</span> <span class="toc-text"> 输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%95%8C%E9%9D%A2%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.</span> <span class="toc-text"> 获取界面文本信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BB%91%E5%8A%A8"><span class="toc-number">1.5.</span> <span class="toc-text"> 滑动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%94%AE"><span class="toc-number">1.6.</span> <span class="toc-text"> 按键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%BF%E6%8C%89-%E5%8F%8C%E5%87%BB-%E7%A7%BB%E5%8A%A8"><span class="toc-number">1.7.</span> <span class="toc-text"> 长按、双击、移动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E9%80%9A%E7%9F%A5%E6%A0%8F"><span class="toc-number">1.8.</span> <span class="toc-text"> 查看通知栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E5%BE%85"><span class="toc-number">1.9.</span> <span class="toc-text"> 等待</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#python%E9%87%8C%E6%9C%89%E4%B8%89%E7%A7%8D%E7%AD%89%E5%BE%85%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.9.1.</span> <span class="toc-text"> Python里有三种等待的方式：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#adb-%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text"> adb 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%AE%BE%E5%A4%87"><span class="toc-number">2.1.</span> <span class="toc-text"> 查看连接的设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E6%96%87%E4%BB%B6%E5%92%8C%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text"> 列出文件和传输文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%AA%E5%B1%8F"><span class="toc-number">2.3.</span> <span class="toc-text"> 截屏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell"><span class="toc-number">2.4.</span> <span class="toc-text"> shell</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="AI Jiang"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Hexo"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">自动化Appium</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-03-30 10:58:10" itemprop="dateCreated datePublished" datetime="2021-03-30T10:58:10+08:00">2021-03-30</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2021-04-23 21:21:45" itemprop="dateModified" datetime="2021-04-23T21:21:45+08:00">2021-04-23</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">数据获取</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/%E7%88%AC%E8%99%AB/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">爬虫</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="资料来源白月黑羽"><a class="markdownIt-Anchor" href="#资料来源白月黑羽"></a> 资料来源:白月黑羽</h2>
<h2 id="自动化原理"><a class="markdownIt-Anchor" href="#自动化原理"></a> 自动化原理</h2>
<p>我们先来看一下Appium自动化的原理图</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/20200223122125834-1619184060925.png" alt="image" loading="lazy"></p>
<p>这图是不是很眼熟？</p>
<p>对啦，和Selenium 原理图很像。因为 Appium自动化架构就是借鉴的Selenium。</p>
<p>大家看看这幅图， 包含了 3个主体部分 ： 自动化程序、Appium Server、移动设备</p>
<ul>
<li>
<p>自动化程序</p>
<p>自动化程序是由我们来开发的，实现具体的 手机自动化 功能。</p>
<p>要发出具体的指令控制手机，也需要使用 <strong>客户端库</strong>。</p>
<p>和Selenium一样，Appium 组织 也提供了多种编程语言的客户端库，包括 java，python，js， ruby等，方便不同编程语言的开发者使用。</p>
<p>我们需要安装好客户端库，调用这些库，就可以发出自动化指令给手机。</p>
</li>
<li>
<p>Appium Server</p>
</li>
</ul>
<p>Appium Server 是 Appium 组织开发的程序，它负责管理手机自动化环境，并且转发 自动化程序的控制指令 给 手机，并且转发 手机给 自动化程序的响应消息。</p>
<ul>
<li>
<p>手机设备</p>
<p>我们这里说的手机设备，其实不仅仅是手机，包括所有 苹果、安卓的移动设备，比如：手机、平板、智能手表等。</p>
<p>为了直观方便的讲解，这里我们简称： 手机</p>
<p>当然手机上也包含了 我们要自动化控制的 手机应用APP。</p>
<p>手机设备为什么能 接收并且处理自动化指令呢？</p>
<p>因为，Appium Server 会在手机上 安装一个 <strong>自动化代理程序</strong>， 代理程序会等待自动化指令，并且执行自动化指令</p>
</li>
</ul>
<p>比如：要模拟用户点击界面按钮，Appium 自动化系统的流程是这样的：</p>
<ul>
<li>自动化程序 调用客户端库相应的函数， 发送 <code>点击元素</code> 的指令（封装在HTTP消息里）给 Appium Server</li>
<li>Appium Server 再转发这个指令给 手机上的自动化代理</li>
<li>手机上的自动化代理 接收到 指令后，调用手机平台的自动化库，执行点击操作，返回点击成功的结果给 Appium Server</li>
<li>Appium Server 转发给 自动化程序</li>
<li>自动化程序了解到本操作成功后，继续后面的自动化流程</li>
</ul>
<p>其中，自动化代理控制，使用的什么库来实现自动化的呢？</p>
<p>如果测试的是苹果手机， 用的是苹果的 XCUITest 框架 （IOS9.3版本以后）</p>
<p>如果测试的是安卓手机，用的是安卓的 UIAutomator 框架 (Android4.2以后)</p>
<p>这些自动化框架提供了在手机设备上运行的库，可以让程序调用这些库，像人一样自动化操控设备和APP，比如：点击、滑动，模拟各种按键消息等。</p>
<h2 id="自动化环境搭建"><a class="markdownIt-Anchor" href="#自动化环境搭建"></a> 自动化环境搭建</h2>
<p>本教程主要讲解 安卓APP的自动化。</p>
<p>环境搭建需要下载安装不少软件，而且还有不少是国外网站下载的。</p>
<h1 id="二第一个程序"><a class="markdownIt-Anchor" href="#二第一个程序"></a> 二.第一个程序</h1>
<h2 id="打开运行要appium运行程序"><a class="markdownIt-Anchor" href="#打开运行要appium运行程序"></a> 打开运行要Appium运行程序</h2>
<h3 id="1联机后查看权限"><a class="markdownIt-Anchor" href="#1联机后查看权限"></a> 1.联机后查看权限</h3>
<p>adb devices -l</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219090428434.png" alt="image-20210219090428434" loading="lazy"></p>
<h2 id="2启动appium"><a class="markdownIt-Anchor" href="#2启动appium"></a> 2.启动Appium</h2>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219085011607-1619184064022.png" alt="image-20210219085011607" loading="lazy"></p>
<p>下面是一段使用 Appium 自动化的打开 B站 应用，搜索 <code>白月黑羽</code> 发布的教程视频，并且打印视频标题的示例。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> appium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> appium.webdriver.extensions.android.nativekey <span class="keyword">import</span> AndroidKey</span><br><span class="line"></span><br><span class="line">desired_caps = &#123;</span><br><span class="line">  <span class="string">&#x27;platformName&#x27;</span>: <span class="string">&#x27;Android&#x27;</span>, <span class="comment"># 被测手机是安卓</span></span><br><span class="line">  <span class="string">&#x27;platformVersion&#x27;</span>: <span class="string">&#x27;8&#x27;</span>, <span class="comment"># 手机安卓版本</span></span><br><span class="line">  <span class="string">&#x27;deviceName&#x27;</span>: <span class="string">&#x27;xxx&#x27;</span>, <span class="comment"># 设备名，安卓手机可以随意填写，苹果写具体的</span></span><br><span class="line">  <span class="string">&#x27;appPackage&#x27;</span>: <span class="string">&#x27;tv.danmaku.bili&#x27;</span>, <span class="comment"># 启动APP Package名称</span></span><br><span class="line">  <span class="string">&#x27;appActivity&#x27;</span>: <span class="string">&#x27;.ui.splash.SplashActivity&#x27;</span>, <span class="comment"># 启动Activity名称</span></span><br><span class="line">    <span class="comment">#输入法有关</span></span><br><span class="line">  <span class="string">&#x27;unicodeKeyboard&#x27;</span>: <span class="literal">True</span>, <span class="comment"># 使用自带输入法，输入中文时填True</span></span><br><span class="line">  <span class="string">&#x27;resetKeyboard&#x27;</span>: <span class="literal">True</span>, <span class="comment"># 执行完程序恢复原来输入法</span></span><br><span class="line">  <span class="string">&#x27;noReset&#x27;</span>: <span class="literal">True</span>,       <span class="comment"># 不要重置App，申去登录等操作</span></span><br><span class="line">  <span class="string">&#x27;newCommandTimeout&#x27;</span>: <span class="number">6000</span>,</span><br><span class="line">  <span class="string">&#x27;automationName&#x27;</span> : <span class="string">&#x27;UiAutomator2&#x27;</span></span><br><span class="line">  <span class="comment"># &#x27;app&#x27;: r&#x27;d:\apk\bili.apk&#x27;,</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 连接Appium Server，初始化自动化环境webDriver对象用于控制手机；Appium Server是一个服务端，desired_caps是一个信息</span></span><br><span class="line">driver = webdriver.Remote(<span class="string">&#x27;http://localhost:4723/wd/hub&#x27;</span>, desired_caps)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置缺省等待时间</span></span><br><span class="line">driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有`青少年保护`界面，点击`我知道了`</span></span><br><span class="line">iknow = driver.find_elements_by_id(<span class="string">&quot;text3&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> iknow:</span><br><span class="line">    iknow.click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据id定位搜索位置框，点击</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;expand_search&quot;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据id定位搜索输入框，点击</span></span><br><span class="line">sbox = driver.find_element_by_id(<span class="string">&#x27;search_src_text&#x27;</span>)</span><br><span class="line">sbox.send_keys(<span class="string">&#x27;白月黑羽&#x27;</span>)</span><br><span class="line"><span class="comment"># 输入回车键，确定搜索</span></span><br><span class="line">driver.press_keycode(AndroidKey.ENTER)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 选择（定位）所有视频标题</span></span><br><span class="line">eles = driver.find_elements_by_id(<span class="string">&quot;title&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> eles:</span><br><span class="line">    <span class="comment"># 打印标题</span></span><br><span class="line">    print(ele.text)</span><br><span class="line"></span><br><span class="line"><span class="built_in">input</span>(<span class="string">&#x27;**** Press to quit..&#x27;</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>
<p>运行代码前，要先 `运行 Appium Desktop</p>
<p>上面的代码只是抓取一页视频标题，要自动化滚动抓取所有的视频标题，<code>实战班学员</code> ，请联系老师获取参考代码。</p>
<p><code>游客</code> 也可以 分享课程 领取参考代码，<a target="_blank" rel="noopener" href="http://www.python3.vip/adv/bonus/appium1/">点击这里查看</a></p>
<h1 id="查找-应用-package-和-activity"><a class="markdownIt-Anchor" href="#查找-应用-package-和-activity"></a> 查找 应用 Package 和 Activity</h1>
<h3 id="没有apk"><a class="markdownIt-Anchor" href="#没有apk"></a> 没有apk</h3>
<p>如果你应用已经安装在手机上了，可以直接打开手机上该应用，进入到你要操作的界面</p>
<p>然后执行</p>
<p>都是第一行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys activity recents | find &quot;intent=&#123;&quot;</span><br></pre></td></tr></table></figure>
<p>会显示如下，最近的 几个 activity 信息，</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219093658444-1619184067743.png" alt="image-20210219093658444" loading="lazy"></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">intent=&#123;act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=<span class="number">0x10200000</span> cmp=tv.danmaku.bili/.ui.splash.SplashActivity&#125;</span><br><span class="line">intent=&#123;act=android.intent.action.MAIN cat=[android.intent.category.HOME] flg=0x10000300cmp=com.huawei.android.launcher/.unihome.UniHomeLauncher&#125;</span><br><span class="line">intent=&#123;flg=<span class="number">0x10804000</span> cmp=com.android.systemui/.recents.RecentsActivity bnds=[<span class="number">48</span>,<span class="number">1378</span>][<span class="number">10322746</span>]&#125;</span><br><span class="line">intent=&#123;flg=<span class="number">0x10000000</span> cmp=com.tencent.mm/.ui.LauncherUI&#125;</span><br></pre></td></tr></table></figure>
<p>其中第一行就是当前的应用，我们特别关注最后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmp=tv.danmaku.bili/.ui.splash.SplashActivity</span><br></pre></td></tr></table></figure>
<p>应用的package名称就是 <code>tv.danmaku.bili</code></p>
<p>应用的启动Activity就是 <code>.ui.splash.SplashActivity</code></p>
<h3 id="有apk"><a class="markdownIt-Anchor" href="#有apk"></a> 有apk</h3>
<p>安装电脑端程序</p>
<p>如果你已经获取到了 apk，在命令行窗口执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d:\tools\androidsdk\build-tools\29.0.3\aapt.exe dump badging d:\tools\apk\bili.apk | find &quot;package: name&#x3D;&quot;</span><br></pre></td></tr></table></figure>
<p>输出信息中，就有应用的package名称</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package: name=<span class="string">&#x27;tv.danmaku.bili&#x27;</span> versionCode=<span class="string">&#x27;5531000&#x27;</span> versionName=<span class="string">&#x27;5.53.1&#x27;</span> platformBuildVersionName=<span class="string">&#x27;5.53.1&#x27;</span> compileSdkVersion=<span class="string">&#x27;28&#x27;</span> compileSdkVersionCodename=<span class="string">&#x27;9&#x27;</span></span><br></pre></td></tr></table></figure>
<p>在命令行窗口执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d:\tools\androidsdk\build-tools\29.0.3\aapt.exe dump badging d:\tools\apk\bili.apk | find &quot;launchable-activity&quot;</span><br></pre></td></tr></table></figure>
<p>输出信息中，就有应用的启动Activity</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">launchable-activity: name=<span class="string">&#x27;tv.danmaku.bili.ui.splash.SplashActivity&#x27;</span>  label=<span class="string">&#x27;&#x27;</span> icon=<span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="三定位元素"><a class="markdownIt-Anchor" href="#三定位元素"></a> 三.定位元素</h1>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219094751285-1619184069621.png" alt="image-20210219094751285" loading="lazy"></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219094827348-1619184071192.png" alt="image-20210219094827348" loading="lazy"></p>
<p>页面变化后重新定位元素</p>
<h2 id="代码规则"><a class="markdownIt-Anchor" href="#代码规则"></a> 代码规则</h2>
<p>从示例代码，大家就可以发现，和Selenium Web自动化一样，要操作界面元素，必须先 定位（选择）元素。</p>
<p>Appium是基于Selenium的，所以 和 Selenium 代码 定位元素的 基本规则相同：</p>
<ul>
<li><code>find_element_by_XXX</code> 方法，返回符合条件的<strong>第一个元素</strong>，找不到抛出异常</li>
<li><code>find_elements_by_XXX</code> 方法，返回符合条件的<strong>所有元素的列表</strong>，找不到返回空列表</li>
<li>通过 <code>WebDriver</code> <strong>对象调用这样的方法，查找范围是整个界面</strong></li>
<li>通过 <code>WebElement</code> 对象调用这样的方法，查找范围是该节点的子节点</li>
</ul>
<h2 id="界面元素查看工具"><a class="markdownIt-Anchor" href="#界面元素查看工具"></a> 界面元素查看工具</h2>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219095917915-1619184072626.png" alt="image-20210219095917915" loading="lazy"></p>
<p>做 Selenium Web 自动化的时候，要找到元素，我们是通过浏览器的开发者工具栏来查看元素的特性，根据这些特性（属性和位置），来定位元素</p>
<p>Appium 要自动化手机应用，同样需要工具查看界面元素的特征。</p>
<p>常用的查看工具是： <strong>Android Sdk包中的 <code>uiautomateviewer</code> 和 Appium Desktop 中的 <code>Appium Inspector</code></strong></p>
<h3 id="uiautomateviewer"><a class="markdownIt-Anchor" href="#uiautomateviewer"></a> uiautomateviewer</h3>
<p>安卓查看APP界面元素，最常用的就是 <strong>Android SDK 中的工具</strong> <code>uiautomateviewer</code> ，它在SDK目录目录 的 <strong>tools\bin</strong> 目录中</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100127983-1619184074530.png" alt="image-20210219100127983" loading="lazy"></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100607217-1619184078097.png" alt="image-20210219100607217" loading="lazy"></p>
<p>抓取界面信息</p>
<p>和Selenium一样，我们要<strong>定位选择元素，也是根据元素的特征，包</strong>括</p>
<ul>
<li>元素的属性</li>
</ul>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219100928807-1619184079946.png" alt="image-20210219100928807" loading="lazy"></p>
<p>id可以写上斜杠前面的</p>
<ul>
<li>元素的相对位置（相对父元素、兄弟元素等）</li>
</ul>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101133297-1619184083861.png" alt="image-20210219101133297" loading="lazy"></p>
<p>bounds左上角边界坐标</p>
<h3 id="appium-inspector"><a class="markdownIt-Anchor" href="#appium-inspector"></a> Appium Inspector</h3>
<p>Appium Desktop 中的 <code>Appium Inspector</code> 也可以查看元素。</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101526227-1619184085199.png" alt="image-20210219101526227" loading="lazy"></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219101622563-1619184087679.png" alt="image-20210219101622563" loading="lazy"></p>
<p>一个个加参数保存</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219102249001-1619184089195.png" alt="image-20210219102249001" loading="lazy"></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219102513030-1619184090508.png" alt="image-20210219102513030" loading="lazy"></p>
<p>它的一个优点是可以<strong>直接验证 选择表达式是否能定位到元素</strong></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219122743944-1619184091721.png" alt="image-20210219122743944" loading="lazy"></p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/%25RX%25%25@13JVTK%5B%5BMU%7DLKAYA-1619184093058.png" alt="img" loading="lazy"></p>
<h2 id="定位元素的方法"><a class="markdownIt-Anchor" href="#定位元素的方法"></a> 定位元素的方法</h2>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219130050450-1619184095029.png" alt="image-20210219130050450" loading="lazy"></p>
<h3 id="根据id"><a class="markdownIt-Anchor" href="#根据id"></a> 根据ID</h3>
<p>在Selenium Web自动化教程里，我们说过，如果能根据ID选择定位元素，最好根据ID，因为通常来说ID是唯一的，所以根据ID选择 效率高。</p>
<p>在安卓应用自动化的时候，同样可以根据ID查找。</p>
<p>但是这个ID ，<strong>是安卓应用元素的 <code>resource-id</code> 属性</strong>一般不是唯一的和网页不一样</p>
<p>使用如下代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_id(<span class="string">&#x27;expand_search&#x27;</span>)</span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;expand_search&#x27;</span>)<span class="comment">#非唯一用find_elements</span></span><br></pre></td></tr></table></figure>
<p>具体细节，参考视频里面的讲解。</p>
<h3 id="根据class-name"><a class="markdownIt-Anchor" href="#根据class-name"></a> 根据CLASS NAME</h3>
<p>安卓界面元素的 class属性 <strong>其实就是根据元素的类型，类似web里面的tagname，</strong> 所以通常不是唯一的。</p>
<p>通常，我们根据class 属性来选择元素， <strong>是要选择多个而不是一个。</strong></p>
<p>当然如果你确定 要查找的 界面元素的类型 在当前界面中只有一个，就可以根据class 来唯一选择。</p>
<p>使用如下代码</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.find_elements_by_class_name(<span class="string">&#x27;android.widget.TextView&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="根据accessibility-id"><a class="markdownIt-Anchor" href="#根据accessibility-id"></a> 根据ACCESSIBILITY ID</h3>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219130334301-1619184099025.png" alt="image-20210219130334301" loading="lazy"></p>
<p>元素的 <strong>content-desc 属</strong>性是用来描述该元素的作用的。</p>
<p>如果要查询的界面元素有 content-desc属性，我们可以通过它来定位选择元素。</p>
<p>使用如下代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_accessibility_id(<span class="string">&#x27;找人&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="xpath"><a class="markdownIt-Anchor" href="#xpath"></a> Xpath</h3>
<p>Appium 也支持通过 Xpath选择元素。</p>
<p>但是其可靠性和性能不如 Selenium Web自动化。因为Web自动化对Xpath的支持是由浏览器实现的，而Appium Xpath的支持是 Appium Server实现的。</p>
<p>毕竟，浏览器产品的成熟度比Appium要高很多。</p>
<p>当然，Xpath是标准语法，所以这里表达式的语法规则和 <strong>以前学习的Selenium里面Xpath</strong>的语法是一样的，比如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//ele1/ele2[@attr=&quot;value&quot;]&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p>selenium自动化中， xpath表达式中每个<strong>节点名是html的tagname。</strong></p>
<p>但是在appium中， xpath表达式中 每个节点名 是元素的class属性值。</p>
<p>比如：<strong>要选择所有的文本节点(写全)</strong>，就使用如下代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//android.widget.TextView&#x27;</span>)</span><br><span class="line"><span class="comment">#按照属性来  *是任意的节点@属性名   /子元素 //后代元素</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;//*[@resource-id=&#x27;tv.danmaku.bili:id/title&#x27;]&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="安卓-uiautomator"><a class="markdownIt-Anchor" href="#安卓-uiautomator"></a> 安卓 UIAutomator</h3>
<p>根据id，classname， accessibilityid，xpath，这些方法选择元素，其实底层都是利用了安卓 uiautomator框架的API功能实现的。</p>
<p>参考 这里的谷歌安卓官方文档介绍： <a target="_blank" rel="noopener" href="https://developer.android.google.cn/training/testing/ui-automator">https://developer.android.google.cn/training/testing/ui-automator</a></p>
<p>也就是说，程序的这些定位请求，被Appium server转发给手机自动化代理程序，就转化为为uiautomator里面相应的定位函数调用。</p>
<p>其实，我们的自动化程序，可以直接告诉 手机上的自动化代理程序，让它 调用UI Automator API的java代码，实现最为直接的自动化控制。</p>
<p>主要是通过 UiSelector 这个类里面的方法实现元素定位的，比如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code = <span class="string">&#x27;new UiSelector().text(&quot;热门&quot;).className(&quot;android.widget.TextView&quot;)&#x27;</span></span><br><span class="line">ele = driver.find_element_by_android_uiautomator(code)</span><br><span class="line">ele.click()</span><br></pre></td></tr></table></figure>
<p>就是通过 text 属性 和 className的属性 两个条件 来定位元素。</p>
<p><img src="/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/image-20210219144509145-1619184101658.png" alt="image-20210219144509145" loading="lazy"></p>
<p>UiSelector里面有些元素选择的方法 可以解决 前面解决不了的问题。</p>
<p>比如</p>
<ul>
<li>
<p><code>text</code> 方法</p>
<p><strong>可以根据元素的文本属性查找元素</strong></p>
</li>
<li>
<p><code>textContains</code></p>
<p>根据文本包含什么字符串</p>
</li>
<li>
<p><code>textStartsWith</code></p>
<p>根据文本以什么字符串开头</p>
</li>
<li>
<p><code>textmartch</code> 方法</p>
<p>可以使用正则表达式 选择一些元素，如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code = <span class="string">&#x27;new UiSelector().textMatches(&quot;^我的.*&quot;)&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>UiSelector 的 <code>instance</code> 和 <code>index</code> 也可以用来定位元素，都是从0开始计数， 他们的区别：</p>
<ul>
<li>instance是匹配的结果所有元素里面 的第几个元素</li>
<li>index则是其父元素的几个节点，类似xpath 里面的*[n]</li>
</ul>
<p>UiSelector 的 <code>childSelector</code> 可以选择后代元素，比如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code = <span class="string">&#x27;new UiSelector().resourceId(&quot;tv.danmaku.bili:id/recycler_view&quot;).childSelector(new UiSelector().className(&quot;android.widget.TextView&quot;))&#x27;</span></span><br><span class="line"></span><br><span class="line">ele = driver.find_element_by_android_uiautomator(code)</span><br></pre></td></tr></table></figure>
<p>注意： childSelector后面的引号要框住整个 子 uiSelector 的表达式</p>
<p>目前有个bug：只能找到符合条件的第一个元素，参考appium 在github上的 issues：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/appium/java-client/issues/150">https://github.com/appium/java-client/issues/150</a></p>
<h1 id="四界面操作-和-adb-命令"><a class="markdownIt-Anchor" href="#四界面操作-和-adb-命令"></a> 四.界面操作 和 adb 命令</h1>
<h2 id="界面操作"><a class="markdownIt-Anchor" href="#界面操作"></a> 界面操作</h2>
<h3 id="click点击"><a class="markdownIt-Anchor" href="#click点击"></a> click点击</h3>
<p>最常见的操作之一，使用 WebElement 对象的 <code>click</code> 方法， 示例代码就讲过，不再赘述，element元素才有的操作</p>
<h3 id="tap点按"><a class="markdownIt-Anchor" href="#tap点按"></a> tap点按</h3>
<p>WebElement 对象的 <code>tap</code> 方法和 click 类似，都是点击界面。</p>
<p>但是最大的区别是， tap是 <code>针对坐标</code> 而不是针对找到的元素。</p>
<p>为了保证自动化代码在所有分辨率的手机上都能正常执行，我们通常应该使用click方法。</p>
<p>但有的时候，我们难以用通常的方法定位元素， 可以用这个tap方法，根据坐标来点击</p>
<p>既然tap是用坐标来点击界面的，我们怎么知道这个元素的坐标呢？</p>
<p>大家还记得用inspect 查看该元素的属性中，有一个 <code>bounds</code> 属性吗？</p>
<p>它就是表示元素的左上角，右下角坐标的 坐标。</p>
<p>我们还可以使用 UIAutomatorviewer 直接光标移动，看右边的属性提示。</p>
<p>tap 方法可以像这样进行调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">driver.tap([(<span class="number">850</span>,<span class="number">1080</span>)],<span class="number">300</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,driver</span>):</span></span><br><span class="line">    self.driver = driver</span><br><span class="line">    <span class="comment"># 获取屏幕的 size</span></span><br><span class="line">    self.size = driver.get_window_size()</span><br><span class="line">    <span class="comment"># 获取屏幕宽度 width</span></span><br><span class="line">    self.width = self.size[<span class="string">&#x27;width&#x27;</span>]</span><br><span class="line">    <span class="comment"># 获取屏幕高度 height</span></span><br><span class="line">    self.height = self.size[<span class="string">&#x27;height&#x27;</span>]</span><br><span class="line">    <span class="comment"># 坐标定位、点击长按通用，调试机型屏幕分辩2280*1080,只适配全面屏、2K</span></span><br><span class="line">    <span class="comment"># 注意全面屏与有底部导航的分辨率不一样，要考虑Y轴的底部导航,[(x,y),z]，z：持续时间</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">driverTap</span>(<span class="params">self,x,y,z=<span class="literal">None</span></span>):</span></span><br><span class="line">        self.driver.tap([((x/<span class="number">1080</span>)*self.width,(y/<span class="number">2280</span>)*self.height)],z)</span><br></pre></td></tr></table></figure>
<p>它 有 两个参数：</p>
<ul>
<li>
<p>第一个参数是个列表，表示点击的坐标。</p>
<p>注意最多可以有5个元素，代表5根手指点击5个坐标。所以是list类型。</p>
<p>如果我们只要模拟一根手指点击屏幕，list中只要一个元素就可以了</p>
</li>
<li>
<p>第二个参数 表示 tap点按屏幕后 停留的时间。</p>
<p>如果点按时间过长，就变成了长按操作了。</p>
</li>
</ul>
<h3 id="输入"><a class="markdownIt-Anchor" href="#输入"></a> 输入</h3>
<p>最常见的操作之一， 使用 WebElement 对象的 <strong><code>send_keys</code></strong> 方法， 示例代码就讲过，不再赘述</p>
<h3 id="获取界面文本信息"><a class="markdownIt-Anchor" href="#获取界面文本信息"></a> 获取界面文本信息</h3>
<p>可以通过 WebElement 对象的 <code>.text</code> 属性获取该对象的文本信息，示例代码就讲过，不再赘述。</p>
<h3 id="滑动"><a class="markdownIt-Anchor" href="#滑动"></a> 滑动</h3>
<p>我们做移动app测试的时候，经常需要滑动界面。</p>
<p>怎么模拟滑动呢？ WebDriver对象的 swipe方法，就提供了这个功能</p>
<p>比如</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.swipe(start_x=x, start_y=y1, end_x=x, end_y=y2, duration=<span class="number">800</span>)</span><br></pre></td></tr></table></figure>
<p>前面4个参数 是 滑动起点 和 终点 的x、y坐标。</p>
<p>第5个参数 duration是滑动从起点到终点坐标所耗费的时间。</p>
<p>注意这个时间非常重要，在屏幕上滑动同样的距离，如果时间设置的很短，就是快速的滑动。</p>
<p>比如：一个翻动新闻的界面，快速的滑动，就会是扫动的动作，会导致内容 <code>惯性</code> 滚动很多。</p>
<h3 id="按键"><a class="markdownIt-Anchor" href="#按键"></a> 按键</h3>
<p>前面的示例代码中已经使用过 调用 <code>press_keycode</code> 方法，就能模拟 按键动作，包括安卓手机的实体按键和 键盘按钮。</p>
<p>如下代码所示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> appium.webdriver.extensions.android.nativekey <span class="keyword">import</span> AndroidKey</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入回车键，确定搜索</span></span><br><span class="line">driver.press_keycode(AndroidKey.ENTER)</span><br></pre></td></tr></table></figure>
<p>按键的定义，可以参考这篇文档 <a target="_blank" rel="noopener" href="https://github.com/appium/python-client/blob/master/appium/webdriver/extensions/android/nativekey.py">https://github.com/appium/python-client/blob/master/appium/webdriver/extensions/android/nativekey.py</a></p>
<h3 id="长按-双击-移动"><a class="markdownIt-Anchor" href="#长按-双击-移动"></a> 长按、双击、移动</h3>
<p>Appium的 TouchAction 类提供了更多的手机操作方法，比如：长按、双击、移动</p>
<p>参考源代码中的注释 <a target="_blank" rel="noopener" href="https://github.com/appium/python-client/blob/master/appium/webdriver/common/touch_action.py">https://github.com/appium/python-client/blob/master/appium/webdriver/common/touch_action.py</a></p>
<p>比如，下面就是一个长按的例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> appium.webdriver.common.touch_action <span class="keyword">import</span> TouchAction</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line">actions = TouchAction(driver)</span><br><span class="line">actions.long_press(element)</span><br><span class="line">actions.perform()</span><br></pre></td></tr></table></figure>
<h3 id="查看通知栏"><a class="markdownIt-Anchor" href="#查看通知栏"></a> 查看通知栏</h3>
<ul>
<li>
<p>打开通知栏</p>
<p>安卓手机， 查看通知栏的动作可以是从屏幕顶端下滑来查看通知。</p>
<p>我们刚刚学过滑动，感兴趣的朋友可以自己试试，关键是要找对滑动的起始点和滑动距离。</p>
<p>更方便的，我们可以使用如下代码，直接打开通知栏</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.open_notifications()</span><br></pre></td></tr></table></figure>
<p>通知栏里面的元素，自动化的方法 和 前面介绍的App界面元素自动化是一样的。</p>
</li>
<li>
<p>收起通知栏</p>
<p>收起通知栏，可以使用前面介绍的模拟按键， 发出返回按键 的方法。</p>
</li>
</ul>
<h3 id="等待"><a class="markdownIt-Anchor" href="#等待"></a> 等待</h3>
<h4 id="python里有三种等待的方式"><a class="markdownIt-Anchor" href="#python里有三种等待的方式"></a> Python里有三种等待的方式：</h4>
<p>强制等待</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> from time import sleep</span><br><span class="line"></span><br><span class="line"> sleep(10) # 表示强行等待10s在执行下一句代码</span><br><span class="line"></span><br><span class="line"> driver.findelementby(id)</span><br><span class="line"></span><br><span class="line">这种等待方式时间到了就会执行下个语句，但比较死板，不能保证在等待的时间内元素真正被加载了出来。</span><br></pre></td></tr></table></figure>
<p>隐性等待</p>
<ol>
<li>Implicitly_wait(xxx)</li>
<li>这个等待表示在规定的时间内页面的所有元素都加载完了就执行下一步，否则一直等到时间截止，然后再继续下一步。</li>
<li>driver.implicitly_wait(10)#等待10s</li>
<li>driver.find_element_by_id(common_util.get_id_value(‘IMAGEID’)).click()</li>
<li>这个方法的缺点是你需要的元素已经加载出来了，但页面还没有加载完，再需要继续等待页面加载完才能执行下一步操作。</li>
</ol>
<p>显性等待</p>
<ol>
<li>WebDriverWait，配合该类的until()和until_not()方法，表示程序每隔x秒去判断一下指定的元素是否加载完，加载完了就执行下一步，否则继续每隔x秒去判断，指定时间截止。如果超时就会抛出异常。</li>
<li>需要导入的包</li>
</ol>
<h2 id="adb-命令"><a class="markdownIt-Anchor" href="#adb-命令"></a> adb 命令</h2>
<p>这里我们给大家 介绍一个android sdk里面的命令行工具 <code>adb</code> 。</p>
<p>adb 全程 <code>Android Debug Bridge</code>，这个adb 使用非常广泛。</p>
<p>它可以与 Android 手机设备进行通信，它可进行各种设备操作。</p>
<p>比如： 安装应用和调试应用，传输文件，甚至登录到手机设备上shell的进行访问，就像远程登录一样</p>
<p>这个adb 在 sdk的 <code>platform-tools</code> 目录下面， 请大家确保路径在path环境变量中。</p>
<p>Appium 对anroid的自动化就非常依赖这个adb工具。 执行自动化过程中，有很多内部操作，比如获取设备信息，传送文件到手机，安装apk，启动某些程序等，都是通常这个adb实现的。</p>
<p>大家想想我们学习了adb命令，对我们的自动化程序有什么用例呢？</p>
<p>既然这是个命令，就可以使用 Python的 <code>os.system()</code> 或者 <code>subprocess</code> 来自动化调用它，完成我们的各种自动化需求。</p>
<p>比如，我们自动化过程中，可能需要截屏手机，并且下载到指定目录中，就可以在我们的Python程序中这样写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">&#x27;adb shell screencap /sdcard/screen3.png &amp;&amp; adb pull /sdcard/screen3.png&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>特别是，还可以通过adb 使用 am(activity manager) 和pm (package manager) 两个工具， 可以启动 Activity、强行停止进程、广播 intent、修改设备屏幕属性、列出应用、卸载应用等。</p>
<p>大家可以<a target="_blank" rel="noopener" href="https://developer.android.google.cn/studio/command-line/adb.html#devicestatus">点击这里查看官方文档中介绍的adb命令</a></p>
<p>下面我们列出了一些场景的adb命令</p>
<h3 id="查看连接的设备"><a class="markdownIt-Anchor" href="#查看连接的设备"></a> 查看连接的设备</h3>
<p>adb shell dumpsys activity recents | find “intent={”</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices -l</span><br></pre></td></tr></table></figure>
<h3 id="列出文件和传输文件"><a class="markdownIt-Anchor" href="#列出文件和传输文件"></a> 列出文件和传输文件</h3>
<ul>
<li>查看目录</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell ls /sdcard</span><br></pre></td></tr></table></figure>
<ul>
<li>上传</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb push wv.apk /sdcard/wv.apk</span><br></pre></td></tr></table></figure>
<ul>
<li>下载</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb pull /sdcard/new.txt</span><br></pre></td></tr></table></figure>
<h3 id="截屏"><a class="markdownIt-Anchor" href="#截屏"></a> 截屏</h3>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap /sdcard/screen.png</span><br></pre></td></tr></table></figure>
<p>截屏后的文件存在手机上，可以使用 adb pull 下载下来</p>
<h3 id="shell"><a class="markdownIt-Anchor" href="#shell"></a> shell</h3>
<p>登录到手机设备上shell的进行访问，就像远程登录一样，可用来在连接的设备上运行各种命令。</p>
<p>大家可以 执行一下 adb shell 然后执行各种 安卓支持的 Linux命令，比如 ps、netstat、netstat -an|grep 4724、 pwd、 ls 、cd 、rm 等。</p>
<p>执行quit退出 shell</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/donate/zhifubao.jpg"><img loading="lazy" src="/images/donate/zhifubao.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/donate/weixin.png"><img loading="lazy" src="/images/donate/weixin.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/donate/weixin.png"><img loading="lazy" src="/images/donate/weixin.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>AI Jiang</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/" title="自动化Appium">http://example.com/2021/03/30/%E8%87%AA%E5%8A%A8%E5%8C%96Appium/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/03/30/%E7%8B%82%E7%A5%9E%E8%AF%B4html/" rel="prev" title="狂神说html"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">狂神说html</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/03/30/%E5%B0%9A%E7%A1%85%E8%B0%B7Linux/" rel="next" title="尚硅谷Linux"><span class="post-nav-text">尚硅谷Linux</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>点击按钮跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+自动化Appium">GitHub Issues</a><a class="hty-button hty-button--raised" id="github-discussions" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/discussions/new">GitHub Discussions</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> AI Jiang</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.5.1</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>